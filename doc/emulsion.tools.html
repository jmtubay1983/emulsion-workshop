
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>emulsion.tools package &#8212; EMULSION (Epidemiological Multi-Level Simulation framework)</title>
    <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="shortcut icon" href="_static/STEMAH-favicon.png"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="emulsion.model package" href="emulsion.model.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="module-emulsion.tools">
<span id="emulsion-tools-package"></span><h1>emulsion.tools package<a class="headerlink" href="#module-emulsion.tools" title="Permalink to this heading">¶</a></h1>
<p>A Python implementation of the EMuLSion framework (Epidemiologic
MUlti-Level SImulatiONs).</p>
<p>Misc. tools</p>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading">¶</a></h2>
</section>
<section id="module-0">
<span id="emulsion-tools-calendar-module"></span><h2>emulsion.tools.calendar module<a class="headerlink" href="#module-0" title="Permalink to this heading">¶</a></h2>
<span class="target" id="module-emulsion.tools.calendar"></span><p>Classes and functions for the definition of Emulsion calendars.</p>
<dl class="py exception">
<dt class="sig sig-object py" id="emulsion.tools.calendar.InvalidIntervalException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">emulsion.tools.calendar.</span></span><span class="sig-name descname"><span class="pre">InvalidIntervalException</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">begin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/calendar.html#InvalidIntervalException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.calendar.InvalidIntervalException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Exception raised when trying to insert an inconsistent event in the
calendar. An event is considered inconsistent if the begin date is
posterior to the send date in a non-periodic calendar.</p>
<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.calendar.InvalidIntervalException.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">begin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/calendar.html#InvalidIntervalException.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.calendar.InvalidIntervalException.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the exception with the incorrect <em>begin</em> and <em>end</em> dates.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.calendar.date_in">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.calendar.</span></span><span class="sig-name descname"><span class="pre">date_in</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">begin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/calendar.html#date_in"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.calendar.date_in" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a callable class which tests if a date belongs to the
specified interval (from <em>begin</em> to <em>end</em>). If a <em>period</em> is
specified, the test relies upon the periodicity, otherwise dates
are considered absolute.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>begin</strong> (<code class="docutils literal notranslate"><span class="pre">datetime.datetime</span></code>) – the date when the interval begins</p></li>
<li><p><strong>end</strong> (<code class="docutils literal notranslate"><span class="pre">datetime.datetime</span></code>) – the date when the interval ends</p></li>
<li><p><strong>period</strong> (<code class="docutils literal notranslate"><span class="pre">datetime.timedelta</span></code>) – the duration of the period after which the calendar cycles</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>class</em> – a callable class which depends on relations between parameter
values and can be called on a date (<code class="docutils literal notranslate"><span class="pre">datetime.datetime</span></code>) to
return a <code class="docutils literal notranslate"><span class="pre">bool</span></code> which indicates whether or not the date
belongs to the <em>begin</em>-<em>end</em> interval.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>InvalidIntervalexception</strong> – if <em>begin</em> is posterior to <em>end</em> in a non-periodic calendar</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="emulsion.tools.calendar.periodic_date_tester">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">emulsion.tools.calendar.</span></span><span class="sig-name descname"><span class="pre">periodic_date_tester</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">begin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/calendar.html#periodic_date_tester"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.calendar.periodic_date_tester" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.calendar.periodic_date_tester.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">begin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/calendar.html#periodic_date_tester.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.calendar.periodic_date_tester.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="emulsion.tools.calendar.periodic_date_tester_inverted">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">emulsion.tools.calendar.</span></span><span class="sig-name descname"><span class="pre">periodic_date_tester_inverted</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">begin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/calendar.html#periodic_date_tester_inverted"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.calendar.periodic_date_tester_inverted" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.calendar.periodic_date_tester_inverted.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">begin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/calendar.html#periodic_date_tester_inverted.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.calendar.periodic_date_tester_inverted.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="emulsion.tools.calendar.date_tester">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">emulsion.tools.calendar.</span></span><span class="sig-name descname"><span class="pre">date_tester</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">begin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/calendar.html#date_tester"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.calendar.date_tester" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.calendar.date_tester.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">begin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/calendar.html#date_tester.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.calendar.date_tester.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="emulsion.tools.calendar.EventCalendar">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">emulsion.tools.calendar.</span></span><span class="sig-name descname"><span class="pre">EventCalendar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">calendar_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step_duration</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">origin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">initial_dates</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/calendar.html#EventCalendar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.calendar.EventCalendar" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The EventCalendar class is intended to handle events and
periods of time. Dates/times are given to the calendar in a
human-readable format, and converted to integers (simulation
steps).</p>
<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.calendar.EventCalendar.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">calendar_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step_duration</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">origin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">initial_dates</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/calendar.html#EventCalendar.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.calendar.EventCalendar.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the calendar using the specified information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>calendar_name</strong> (<em>string</em>) – the name of the calendar</p></li>
<li><p><strong>step_duration</strong> (<code class="docutils literal notranslate"><span class="pre">datetime.timedelta</span></code>) – actual duration of one simulation step</p></li>
<li><p><strong>origin</strong> (<code class="docutils literal notranslate"><span class="pre">datetime.datetime</span></code>) – date/time value of the beginning of the calendar</p></li>
<li><p><strong>period</strong> (<code class="docutils literal notranslate"><span class="pre">datetime.timedelta</span></code>) – if the calendar is periodic, actual duration of the
period, None otherwise</p></li>
<li><p><strong>initial_dates</strong> (<em>dict</em>) – initial dictionary of events (event name as key, dict as
value with either begin/end dates or one single date if
punctual event)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.calendar.EventCalendar.increment">
<span class="sig-name descname"><span class="pre">increment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">steps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/calendar.html#EventCalendar.increment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.calendar.EventCalendar.increment" title="Permalink to this definition">¶</a></dt>
<dd><p>Advance the current date by the specified number of
simulation steps.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>steps</strong> (<em>int</em>) – number of steps to ‘add’ to the current date</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.calendar.EventCalendar.step_to_date">
<span class="sig-name descname"><span class="pre">step_to_date</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/calendar.html#EventCalendar.step_to_date"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.calendar.EventCalendar.step_to_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the date when the specified step begins.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>step</strong> (<em>int</em>) – the time step to convert to a date</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>d</strong> (<code class="docutils literal notranslate"><span class="pre">datetime.datetime</span></code>) – the corresponding date</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.calendar.EventCalendar.date_to_step">
<span class="sig-name descname"><span class="pre">date_to_step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/calendar.html#EventCalendar.date_to_step"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.calendar.EventCalendar.date_to_step" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the step corresponding the specified date.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>date</strong> (<code class="docutils literal notranslate"><span class="pre">datetime.datetime</span></code>) – the date to convert into time steps</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>t</strong> (<em>int</em>) – the time step during which the specified date occurs (the
date occurs between the returned time step <em>t</em> and time
step <em>t+1</em>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.calendar.EventCalendar.add_event">
<span class="sig-name descname"><span class="pre">add_event</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">begin_end</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/calendar.html#EventCalendar.add_event"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.calendar.EventCalendar.add_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the specified event to the calendar. An event is characterized
by its <em>name</em> and a <em>begin_end</em> tuple indicating the begin and
end dates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – the name of the event</p></li>
<li><p><strong>begin_end</strong> (<em>tuple</em>) – a tuple composed of the begin date and the end date
(possibly identical for handling punctual events)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.calendar.EventCalendar.get_events">
<span class="sig-name descname"><span class="pre">get_events</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/calendar.html#EventCalendar.get_events"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.calendar.EventCalendar.get_events" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the list of events contained in the current calendar.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>l</strong> (<em>list</em>) – the list of all event names</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-1">
<span id="emulsion-tools-debug-module"></span><h2>emulsion.tools.debug module<a class="headerlink" href="#module-1" title="Permalink to this heading">¶</a></h2>
<span class="target" id="module-emulsion.tools.debug"></span><p>Tools for debugging.</p>
<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.debug.debuginfo">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.debug.</span></span><span class="sig-name descname"><span class="pre">debuginfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">message</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/debug.html#debuginfo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.debug.debuginfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Print debug information.</p>
<p>Can be used in the code as a classical <cite>print</cite>
function. Information are printed in bright yellow colour, with
the name of the python file and line number where it was used.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>*message</strong> (<em>list</em>) – the items to print</p></li>
<li><p><strong>**options</strong> (<em>dict</em>) – options passed to the classical <cite>print</cite> function</p></li>
</ul>
</dd>
</dl>
<div class="admonition-examples admonition">
<p class="admonition-title">Examples</p>
<p>Here is a small example of how to use this function in a python script:</p>
<blockquote>
<div><blockquote>
<div><p>from emulsion.tools.debug import debuginfo</p>
<p>debuginfo(‘Starting test’)</p>
<dl class="simple">
<dt>for i in range(10):</dt><dd><p>print(i)</p>
</dd>
</dl>
</div></blockquote>
<p>debuginfo(‘Test finished, logging in file test.log’)</p>
<dl class="simple">
<dt>with open(‘test.log’, ‘a’) as out:</dt><dd><p>debuginfo(‘values:’, <a href="#id1"><span class="problematic" id="id2">*</span></a>[i for i in range(10)], sep=”-”, file=out)</p>
</dd>
</dl>
</div></blockquote>
</div>
</dd></dl>

</section>
<section id="module-2">
<span id="emulsion-tools-functions-module"></span><h2>emulsion.tools.functions module<a class="headerlink" href="#module-2" title="Permalink to this heading">¶</a></h2>
<span class="target" id="module-emulsion.tools.functions"></span><p>Additional functions for symbolic computing in YAML model definition files.</p>
<p>All functions in this module can be used in EMULSION models.</p>
<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.functions.IfThenElse">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.functions.</span></span><span class="sig-name descname"><span class="pre">IfThenElse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">condition</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val_if_true</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val_if_false</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/functions.html#IfThenElse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.functions.IfThenElse" title="Permalink to this definition">¶</a></dt>
<dd><p>Ternary conditional function: return either <em>val_if_true</em> or
<em>val_if_false</em> depending on <em>condition</em>.</p>
<div class="admonition-example admonition">
<p class="admonition-title">Example</p>
<p>Here in a parameter definition (assuming that <code class="docutils literal notranslate"><span class="pre">summer_period</span></code> is
defined e.g. in the <em>calendars</em> section of the model):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">average_temperature</span><span class="p">:</span>
  <span class="n">desc</span><span class="p">:</span> <span class="s1">&#39;average temperature for the season&#39;</span>
  <span class="n">value</span><span class="p">:</span> <span class="s1">&#39;IfThenElse(summer_period, 25, 8)&#39;</span>
</pre></div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>condition</strong> (<em>bool</em>) – a boolean expression</p></li>
<li><p><strong>val_if_true</strong> (<em>number</em>) – value to return if the expression is True</p></li>
<li><p><strong>val_if_false</strong> (<em>number</em>) – value to return if the expression is False</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>number</em> – One of the two values, depending on <em>condition</em>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.functions.NOT">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.functions.</span></span><span class="sig-name descname"><span class="pre">NOT</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/functions.html#NOT"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.functions.NOT" title="Permalink to this definition">¶</a></dt>
<dd><p>An alias for Not</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.functions.AND">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.functions.</span></span><span class="sig-name descname"><span class="pre">AND</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/functions.html#AND"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.functions.AND" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a logical AND (conjunction) between all the values.</p>
<div class="admonition-example admonition">
<p class="admonition-title">Example</p>
<p>To define symptomatic individuals as infected for at least 5 days:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">is_symptomatic</span><span class="p">:</span>
  <span class="n">desc</span><span class="p">:</span> <span class="s1">&#39;test if individuals has symptoms&#39;</span>
  <span class="n">value</span><span class="p">:</span> <span class="s1">&#39;AND(is_I, duration_in_health_state &gt;= 5)&#39;</span>
</pre></div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>*values</strong> (<em>list</em>) – boolean values separated by commas</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>bool</em> – True if <strong>all</strong> values are True, False otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.functions.OR">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.functions.</span></span><span class="sig-name descname"><span class="pre">OR</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/functions.html#OR"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.functions.OR" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a logical OR (disjunction) between all the values.</p>
<div class="admonition-example admonition">
<p class="admonition-title">Example</p>
<p>To sell animals depending on either their weight or their age:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">transitions</span><span class="p">:</span>
  <span class="o">...</span>
  <span class="o">-</span> <span class="n">from</span><span class="p">:</span> <span class="n">Fattening</span>
    <span class="n">to</span><span class="p">:</span> <span class="n">Sold</span>
    <span class="n">proba</span><span class="p">:</span> <span class="mi">1</span>
    <span class="n">cond</span><span class="p">:</span> <span class="s1">&#39;OR(weight &gt;= weight_thr, age &gt;= age_thr)&#39;</span>
</pre></div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>*values</strong> (<em>list</em>) – boolean values separated by commas</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>bool</em> – True if <strong>at least one</strong> of the values is True, False otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.functions.MIN">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.functions.</span></span><span class="sig-name descname"><span class="pre">MIN</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/functions.html#MIN"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.functions.MIN" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the minimum of all values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>*values</strong> (<em>list</em>) – boolean values separated by commas</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>float</em> – the lowest value</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.functions.MAX">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.functions.</span></span><span class="sig-name descname"><span class="pre">MAX</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/functions.html#MAX"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.functions.MAX" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the maximum of all values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>*values</strong> (<em>list</em>) – boolean values separated by commas</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>float</em> – the highest value</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.functions.DIV">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.functions.</span></span><span class="sig-name descname"><span class="pre">DIV</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/functions.html#DIV"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.functions.DIV" title="Permalink to this definition">¶</a></dt>
<dd><p>Return 0 if a=0 without considering b, otherwise a/b.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a</strong> – the values to divide</p></li>
<li><p><strong>b</strong> – the values to divide</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>float</em> – 0 if a is 0, otherwise a/b</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.functions.ROUND">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.functions.</span></span><span class="sig-name descname"><span class="pre">ROUND</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/functions.html#ROUND"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.functions.ROUND" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the integer rounding of the specified value .</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> – the value to round</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>float</em> – the 0-digit rounding of <em>value</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.functions.random_bool">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.functions.</span></span><span class="sig-name descname"><span class="pre">random_bool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">proba_success</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="_modules/emulsion/tools/functions.html#random_bool"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.functions.random_bool" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a random boolean value (actually, 0 or 1) depending on
<em>proba_success</em>.</p>
<div class="admonition-example admonition">
<p class="admonition-title">Example</p>
<p>Set the value of a state variable <code class="docutils literal notranslate"><span class="pre">has_symptoms</span></code> when entering
in the infectious state:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">states</span><span class="p">:</span>
  <span class="o">...</span>
  <span class="o">-</span> <span class="n">I</span><span class="p">:</span>
    <span class="o">...</span>
    <span class="n">on_enter</span><span class="p">:</span>
      <span class="o">-</span> <span class="n">set_var</span><span class="p">:</span> <span class="n">has_symptoms</span>
        <span class="n">value</span><span class="p">:</span> <span class="s1">&#39;random_bool(proba_symptomatic)&#39;</span>
</pre></div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>proba_success</strong> (<em>float in</em><em> [</em><em>0</em><em>,</em><em>1</em><em>]</em>) – probability of returning 1 (True)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>int</em> – either 1 with probability <em>proba_success</em>, or 0 with
probability 1-<em>proba_success</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.functions.random_choice">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.functions.</span></span><span class="sig-name descname"><span class="pre">random_choice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/functions.html#random_choice"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.functions.random_choice" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a value chosen randomly among those provided (equiprobable
sampling).</p>
<div class="admonition-example admonition">
<p class="admonition-title">Example</p>
<p>To init <code class="docutils literal notranslate"><span class="pre">age</span></code> among three typical values:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">prototypes</span><span class="p">:</span>
  <span class="n">individuals</span><span class="p">:</span>
    <span class="n">init_individual</span><span class="p">:</span>
      <span class="n">age</span><span class="p">:</span> <span class="s1">&#39;random_choice(10, 50, 200)&#39;</span>
</pre></div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>*values</strong> (<em>list</em>) – the possible values, separated by commas</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>val</em> – one of the values (equiprobable choice)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.functions.random_choice_weighted">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.functions.</span></span><span class="sig-name descname"><span class="pre">random_choice_weighted</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/functions.html#random_choice_weighted"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.functions.random_choice_weighted" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a value chosen randomly among those provided (but not
equiprobably).</p>
<div class="admonition-example admonition">
<p class="admonition-title">Example</p>
<p>To init <code class="docutils literal notranslate"><span class="pre">age</span></code> among three typical values which respectively
represent 10%, 20% and 70% of the population:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">prototypes</span><span class="p">:</span>
  <span class="n">individuals</span><span class="p">:</span>
    <span class="n">init_individual</span><span class="p">:</span>
      <span class="n">age</span><span class="p">:</span> <span class="s1">&#39;random_choice_weighted(10, 0.1, 50, 0.2, 200, 0.7)&#39;</span>
</pre></div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>values</strong> (<em>list</em>) – possibles choices and their weight, alternatively, separated
by commas. Weights are normalized to be used as probabilities.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>One of the choices</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.functions.random_multinomial">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.functions.</span></span><span class="sig-name descname"><span class="pre">random_multinomial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">number_of_samples</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">probas</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/functions.html#random_multinomial"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.functions.random_multinomial" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a multinomial sample based on the specified probabilities.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>number_of_samples</strong> (<em>int</em>) – number of experiments</p></li>
<li><p><strong>probas</strong> (<em>list</em>) – list of probabilities</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>list</em> – the drawn samples</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.functions.random_uniform">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.functions.</span></span><span class="sig-name descname"><span class="pre">random_uniform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">low</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">high</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/emulsion/tools/functions.html#random_uniform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.functions.random_uniform" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a random value drawn from a uniform distribution between
<em>low</em> (inclusive) and <em>high</em> (exclusive).</p>
<div class="admonition-example admonition">
<p class="admonition-title">Example</p>
<p>In a prototype definition:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">age</span><span class="p">:</span> <span class="n">random_uniform</span><span class="p">(</span><span class="n">min_age</span><span class="p">,</span> <span class="n">max_age</span><span class="p">)</span>
</pre></div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>low</strong> (<em>float</em>) – lower boundary of the sample interval (inclusive)</p></li>
<li><p><strong>high</strong> (<em>float</em>) – upper boundary of the sample interval (exclusive)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>float</em> – a random value sampled according to a uniform distribution
between <em>low</em> and <em>high</em></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.random.uniform</span></code></p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.functions.random_integers">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.functions.</span></span><span class="sig-name descname"><span class="pre">random_integers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">low</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">high</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="_modules/emulsion/tools/functions.html#random_integers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.functions.random_integers" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a random integer value drawn from a discrete uniform
distribution between <em>low</em> and <em>high</em> (both inclusive).</p>
<div class="admonition-example admonition">
<p class="admonition-title">Example</p>
<p>In a prototype definition:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">age</span><span class="p">:</span> <span class="n">random_integers</span><span class="p">(</span><span class="n">min_age</span><span class="p">,</span> <span class="n">max_age</span><span class="p">)</span>
</pre></div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>low</strong> (<em>int</em>) – lower boundary of the sample interval (inclusive)</p></li>
<li><p><strong>high</strong> (<em>int</em>) – upper boundary of the sample interval (inclusive)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>int</em> – a random integer value sampled according to a discrete uniform
distribution between <em>low</em> and <em>high</em></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.random.random_integers</span></code></p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.functions.random_exponential">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.functions.</span></span><span class="sig-name descname"><span class="pre">random_exponential</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/emulsion/tools/functions.html#random_exponential"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.functions.random_exponential" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a random value drawn from an exponential distribution of
rate 1/<em>scale</em> (thus of mean <em>scale</em>).</p>
<div class="admonition-example admonition">
<p class="admonition-title">Example</p>
<p>In a prototype definition:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">time_to_live</span><span class="p">:</span> <span class="n">random_exponential</span><span class="p">(</span><span class="n">mean_duration</span><span class="p">)</span>
</pre></div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>scale</strong> (<em>float</em>) – the scale parameter of the distribution, i.e. the inverse of the rate</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>float</em> – a random value sampled according to an exponential
distribution of rate 1/<em>scale</em></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.random.exponential</span></code></p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.functions.random_beta">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.functions.</span></span><span class="sig-name descname"><span class="pre">random_beta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/emulsion/tools/functions.html#random_beta"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.functions.random_beta" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a random value drawn from a beta distribution of parameters
<em>a</em> and <em>b</em>.</p>
<div class="admonition-example admonition">
<p class="admonition-title">Example</p>
<p>In a prototype definition:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">age</span><span class="p">:</span> <span class="s1">&#39;random_beta(2, 5) * age_max&#39;</span>
</pre></div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a</strong> (<em>float</em><em>, </em><em>positive</em><em> (</em><em>&gt;0</em><em>)</em>) – first shape parameter of the beta distribution</p></li>
<li><p><strong>b</strong> (<em>float</em><em>, </em><em>positive</em><em> (</em><em>&gt;0</em><em>)</em>) – second shape parameter of the beta distribution</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>float</em> – a random value sampled according to a beta distribution of
parameters <em>a</em> and <em>b</em></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.random.beta</span></code></p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.functions.random_gamma">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.functions.</span></span><span class="sig-name descname"><span class="pre">random_gamma</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/emulsion/tools/functions.html#random_gamma"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.functions.random_gamma" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a random value drawn from a gamma distribution of parameters
<em>shape</em> and <em>scale</em>.</p>
<div class="admonition-example admonition">
<p class="admonition-title">Example</p>
<p>In a prototype definition:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">age</span><span class="p">:</span> <span class="s1">&#39;random_gamma(3, 2)&#39;</span>
</pre></div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shape</strong> (<em>float</em><em>, </em><em>positive</em><em> (</em><em>&gt;0</em><em>)</em>) – the shape of the gamma distribution</p></li>
<li><p><strong>scale</strong> (<em>float</em><em>, </em><em>positive</em><em> (</em><em>&gt;0</em><em>)</em>) – the scale of the gamma distribution</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>float</em> – a random value sampled according to a gamma distribution of
parameters <em>shape</em> and <em>scale</em></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.random.gamma</span></code></p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.functions.random_normal">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.functions.</span></span><span class="sig-name descname"><span class="pre">random_normal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mn</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/emulsion/tools/functions.html#random_normal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.functions.random_normal" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a random value drawn from a normal distribution of mean <em>mn</em>
and standard deviation <em>sd</em>.</p>
<div class="admonition-example admonition">
<p class="admonition-title">Example</p>
<p>In a prototype definition:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">age</span><span class="p">:</span> <span class="s1">&#39;random_normal(100, 5)&#39;</span>
</pre></div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mn</strong> (<em>float</em>) – the mean of the normal distribution</p></li>
<li><p><strong>sd</strong> (<em>float</em><em>, </em><em>positive</em><em> (</em><em>&gt;=0</em><em>)</em>) – the standard deviation of the normal distribution</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>float</em> – a random value sampled according to a normal distribution of
mean <em>mn</em> and standard deviation <em>sd</em></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.random.normal</span></code></p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.functions.random_poisson">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.functions.</span></span><span class="sig-name descname"><span class="pre">random_poisson</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lam</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="_modules/emulsion/tools/functions.html#random_poisson"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.functions.random_poisson" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an integer random value drawn from a Poisson distribution of
mean <em>lam</em>.</p>
<div class="admonition-example admonition">
<p class="admonition-title">Example</p>
<p>In an action, e.g. here when computing how many newborn
individuals will be produced:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">from</span><span class="p">:</span> <span class="n">Gestating</span>
  <span class="n">to</span><span class="p">:</span> <span class="n">NonGestating</span>
  <span class="n">on_cross</span><span class="p">:</span>
    <span class="o">-</span> <span class="n">produce_offspring</span><span class="p">:</span> <span class="n">newborn</span>
      <span class="n">amount</span><span class="p">:</span> <span class="s1">&#39;random_poisson(1.05)&#39;</span>
</pre></div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>lam</strong> (<em>float</em>) – the mean of the Poisson distribution</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>int</em> – a random integer value sampled according to a Poisson distribution of
mean <em>lam</em></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.random.poisson</span></code></p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.functions.Eq">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.functions.</span></span><span class="sig-name descname"><span class="pre">Eq</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/functions.html#Eq"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.functions.Eq" title="Permalink to this definition">¶</a></dt>
<dd><p>Return 1 if <em>a</em> and <em>b</em> are equals, 0 otherwise.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a</strong> (<em>float</em>) – the values to compare</p></li>
<li><p><strong>b</strong> (<em>float</em>) – the values to compare</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>float</em> – 1 iff a == b, 0 otherwise</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-obj docutils literal notranslate"><span class="pre">sympy.Eq</span></code></p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.functions.GreaterThan">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.functions.</span></span><span class="sig-name descname"><span class="pre">GreaterThan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/functions.html#GreaterThan"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.functions.GreaterThan" title="Permalink to this definition">¶</a></dt>
<dd><p>Return 1 if <em>a</em> is greater than <em>b</em> (or equal), 0 otherwise.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a</strong> (<em>float</em>) – the values to compare</p></li>
<li><p><strong>b</strong> (<em>float</em>) – the values to compare</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>float</em> – 1 iff a &gt;= b, 0 otherwise</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-obj docutils literal notranslate"><span class="pre">sympy.Eq</span></code></p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.functions.StrictGreaterThan">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.functions.</span></span><span class="sig-name descname"><span class="pre">StrictGreaterThan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/functions.html#StrictGreaterThan"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.functions.StrictGreaterThan" title="Permalink to this definition">¶</a></dt>
<dd><p>Return 1 if <em>a</em> is strictly greater than <em>b</em>, 0 otherwise.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a</strong> (<em>float</em>) – the values to compare</p></li>
<li><p><strong>b</strong> (<em>float</em>) – the values to compare</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>float</em> – 1 iff a &gt; b, 0 otherwise</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-obj docutils literal notranslate"><span class="pre">sympy.Eq</span></code></p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.functions.LessThan">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.functions.</span></span><span class="sig-name descname"><span class="pre">LessThan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/functions.html#LessThan"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.functions.LessThan" title="Permalink to this definition">¶</a></dt>
<dd><p>Return 1 if <em>a</em> is less than <em>b</em> (or equal), 0 otherwise.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a</strong> (<em>float</em>) – the values to compare</p></li>
<li><p><strong>b</strong> (<em>float</em>) – the values to compare</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>float</em> – 1 iff a &lt;= b, 0 otherwise</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-obj docutils literal notranslate"><span class="pre">sympy.Eq</span></code></p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.functions.StrictLessThan">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.functions.</span></span><span class="sig-name descname"><span class="pre">StrictLessThan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/functions.html#StrictLessThan"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.functions.StrictLessThan" title="Permalink to this definition">¶</a></dt>
<dd><p>Return 1 if <em>a</em> is strictly less than <em>b</em>, 0 otherwise.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a</strong> (<em>float</em>) – the values to compare</p></li>
<li><p><strong>b</strong> (<em>float</em>) – the values to compare</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>float</em> – 1 iff a &lt; b, 0 otherwise</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-obj docutils literal notranslate"><span class="pre">sympy.Eq</span></code></p>
</div>
</dd></dl>

</section>
<section id="module-3">
<span id="emulsion-tools-getters-module"></span><h2>emulsion.tools.getters module<a class="headerlink" href="#module-3" title="Permalink to this heading">¶</a></h2>
<span class="target" id="module-emulsion.tools.getters"></span><p>Collection of callable classes used in EMULSION framework to replace
closures and lambda functions.</p>
<dl class="py class">
<dt class="sig sig-object py" id="emulsion.tools.getters.create_population_getter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">emulsion.tools.getters.</span></span><span class="sig-name descname"><span class="pre">create_population_getter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grouping_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_states</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/getters.html#create_population_getter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.getters.create_population_getter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.getters.create_population_getter.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grouping_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_states</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/getters.html#create_population_getter.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.getters.create_population_getter.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a callable class used as a getter for property of the form
<code class="docutils literal notranslate"><span class="pre">total_X_Y</span></code> where <code class="docutils literal notranslate"><span class="pre">X</span></code> and <code class="docutils literal notranslate"><span class="pre">Y</span></code> are states of two
different states machines used in the grouping <em>grouping_name</em>.</p>
<p>The functions can handle groupings with an arbitrary number of
states.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grouping_name</strong> (<em>str</em>) – the name of the grouping for which the population getter is created</p></li>
<li><p><strong>t_states</strong> (<em>str</em><em> or </em><em>tuple</em>) – either a string representing the state name (if only one), or
a tuple of several state names</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>callable</em> – A callable class which can be applied to an
<code class="docutils literal notranslate"><span class="pre">AbstractProcessManager</span></code> agent which returns the
population size for the specified group.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="emulsion.tools.getters.create_relative_population_getter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">emulsion.tools.getters.</span></span><span class="sig-name descname"><span class="pre">create_relative_population_getter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_variables</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/getters.html#create_relative_population_getter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.getters.create_relative_population_getter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.getters.create_relative_population_getter.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_variables</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/getters.html#create_relative_population_getter.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.getters.create_relative_population_getter.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a callable class used as a getter for property of the form
<code class="docutils literal notranslate"><span class="pre">total_X_Y</span></code> where <code class="docutils literal notranslate"><span class="pre">X</span></code> and <code class="docutils literal notranslate"><span class="pre">Y</span></code> are either states of two
different states machines used in the grouping described by <em>t_variables</em>,
or keywords built upon a state machine name <code class="docutils literal notranslate"><span class="pre">M</span></code> of the form <code class="docutils literal notranslate"><span class="pre">my_M</span></code> or
<code class="docutils literal notranslate"><span class="pre">other_M</span></code>.</p>
<p>The functions can handle groupings with an arbitrary number of
states.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<a class="reference internal" href="emulsion_for_modellers.html#emulsion.model.emulsion_model.EmulsionModel" title="emulsion.model.emulsion_model.EmulsionModel"><em>EmulsionModel</em></a>) – the model in which population counts apply</p></li>
<li><p><strong>t_variables</strong> (<em>str</em><em> or </em><em>tuple</em>) – tuple of strings (possibly one string), each one
representing either an explicit state (e.g. ‘S’), or the current
state of the agent for a specific state machine (e.g.
‘my_health_state’), or all states other than the current state of
the agent for a specific state machine (e.g. ‘other_health_state’)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>callable</em> – A callable class which can be applied to an
<code class="docutils literal notranslate"><span class="pre">AtomAgent</span></code> agent which returns the
population size for the specified group.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="emulsion.tools.getters.create_counter_getter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">emulsion.tools.getters.</span></span><span class="sig-name descname"><span class="pre">create_counter_getter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grouping_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_states</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/getters.html#create_counter_getter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.getters.create_counter_getter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.getters.create_counter_getter.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grouping_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_states</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/getters.html#create_counter_getter.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.getters.create_counter_getter.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a callable class used as a getter for property of the form
<code class="docutils literal notranslate"><span class="pre">total_X_Y</span></code> where <code class="docutils literal notranslate"><span class="pre">X</span></code> and <code class="docutils literal notranslate"><span class="pre">Y</span></code> are state names in the
tuple <em>t_states</em> and where the total number of individuals in
those states can be calculated from the specified
<em>grouping_name</em>.</p>
<p>If a single state is passed to <em>t_states</em>, a tuple is created.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grouping_name</strong> (<em>str</em>) – the name of the grouping (or single state machine) to use for calculation</p></li>
<li><p><strong>t_states</strong> (<em>tuple</em>) – tuple of states to count (possibly single value)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>callable</em> – A callable class which can be applied to an
<code class="docutils literal notranslate"><span class="pre">IBMProcessManager</span></code> agent which returns the
population size for the specified group.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="emulsion.tools.getters.create_state_tester">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">emulsion.tools.getters.</span></span><span class="sig-name descname"><span class="pre">create_state_tester</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/getters.html#create_state_tester"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.getters.create_state_tester" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.getters.create_state_tester.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/getters.html#create_state_tester.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.getters.create_state_tester.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a callable class used as a getter for property of the form
<code class="docutils literal notranslate"><span class="pre">is_X</span></code> where <code class="docutils literal notranslate"><span class="pre">X</span></code> is a state of a state machine.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>state_name</strong> (<em>str</em>) – the name of state</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>callable</em> – A callable class which can be applied to an <code class="docutils literal notranslate"><span class="pre">AtomAgent</span></code>
agent which returns True if the agent is in state
<em>state_name</em>, False otherwise.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="emulsion.tools.getters.create_duration_getter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">emulsion.tools.getters.</span></span><span class="sig-name descname"><span class="pre">create_duration_getter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">machine_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/getters.html#create_duration_getter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.getters.create_duration_getter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.getters.create_duration_getter.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">machine_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/getters.html#create_duration_getter.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.getters.create_duration_getter.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a callable class used as a getter for property of the form
<code class="docutils literal notranslate"><span class="pre">duration_in_M</span></code> where <code class="docutils literal notranslate"><span class="pre">M</span></code> is a <em>machine_name</em>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>machine_name</strong> (<em>str</em>) – the name of the state machine</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>callable</em> – A callable class which can be applied to an <code class="docutils literal notranslate"><span class="pre">AtomAgent</span></code>
agent which returns the duration elapsed since the agent
entered the current state of <em>machine_name</em></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="emulsion.tools.getters.find_operator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">emulsion.tools.getters.</span></span><span class="sig-name descname"><span class="pre">find_operator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">operator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/getters.html#find_operator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.getters.find_operator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.getters.find_operator.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">operator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/getters.html#find_operator.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.getters.find_operator.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an aggregation function named <em>operator</em>.</p>
<p>Search starts with emulsion functions (module
<cite>emulsion.tools.functions</cite>), which includes Python built-ins, then
in <cite>numpy</cite>.</p>
<p>A special shortcut is provided for percentiles: <code class="docutils literal notranslate"><span class="pre">percentileXX</span></code>
is interpreted as the partial function
<code class="docutils literal notranslate"><span class="pre">numpy.percentile(q=int(XX))</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>operator</strong> (<em>str</em>) – the name of the aggregation operator</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>callable</em> – a callable class which can be called on a list (or
array-like) as input and returns the application of the
<em>operator</em> to the values.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="emulsion.tools.getters.create_aggregator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">emulsion.tools.getters.</span></span><span class="sig-name descname"><span class="pre">create_aggregator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sourcevar</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">operator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/getters.html#create_aggregator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.getters.create_aggregator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.getters.create_aggregator.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sourcevar</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">operator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/getters.html#create_aggregator.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.getters.create_aggregator.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an aggregator function to be used as property getter. This
aggregator function has to collect all values of <em>sourcevar</em>
for agents contained in a given host, and reduce them to one
avalue using the specified <em>operator</em>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sourcevar</strong> (<em>str</em>) – the name of the variable to collect in the sublevel</p></li>
<li><p><strong>operator</strong> (<em>str</em>) – the name of the operator to apply to the collected values</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>callable</em> – A callable class which can be applied to a
<cite>MultiProcessManager</cite> agent (i.e. with explicit sublevel
agents) which returns the aggregated values for the whole
population.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="emulsion.tools.getters.create_group_aggregator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">emulsion.tools.getters.</span></span><span class="sig-name descname"><span class="pre">create_group_aggregator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sourcevar</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">operator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">process_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/getters.html#create_group_aggregator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.getters.create_group_aggregator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.getters.create_group_aggregator.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sourcevar</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">operator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">process_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/getters.html#create_group_aggregator.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.getters.create_group_aggregator.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a getter for property of the form <code class="docutils literal notranslate"><span class="pre">newvar_X_Y</span></code> where <code class="docutils literal notranslate"><span class="pre">X</span></code>
and <code class="docutils literal notranslate"><span class="pre">Y</span></code> are states of two different states machines used in
a grouping, <code class="docutils literal notranslate"><span class="pre">newvar</span></code> is an aggregate variable based on
collecting all values of <em>sourcevar</em> for the specific
<em>group_name</em> and aggregating the values using <em>operator</em>. The
functions can handle groupings with an arbitrary number of
states.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sourcevar</strong> (<em>str</em>) – the name of the variable to collect in the sublevel</p></li>
<li><p><strong>operator</strong> (<em>str</em>) – the name of the operator to apply to the collected values</p></li>
<li><p><strong>process_name</strong> (<em>str</em>) – the name of the process associated with the grouping for which
the population getter is created</p></li>
<li><p><strong>group_name</strong> (<em>str</em><em> or </em><em>tuple</em>) – either a string representing the state name (if only one), or
a tuple of several state names</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>callable</em> – A callable class which can be applied to an
<cite>MultiProcessManager</cite> agent (i.e. with explicit sublevel
agents) which returns the aggregated value for the
specified group.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="emulsion.tools.getters.create_atoms_aggregator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">emulsion.tools.getters.</span></span><span class="sig-name descname"><span class="pre">create_atoms_aggregator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sourcevar</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">operator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">machine_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/getters.html#create_atoms_aggregator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.getters.create_atoms_aggregator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.getters.create_atoms_aggregator.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sourcevar</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">operator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">machine_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/getters.html#create_atoms_aggregator.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.getters.create_atoms_aggregator.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a getter for property of the form <code class="docutils literal notranslate"><span class="pre">newvar_X</span></code> where <code class="docutils literal notranslate"><span class="pre">X</span></code> if
the value of <em>state_name</em> (a state of <em>state_machine</em>),
<code class="docutils literal notranslate"><span class="pre">newvar</span></code> is an aggregate variable based on collecting all
values of <em>sourcevar</em> for the specific <em>group_name</em> and
aggregating the values using <em>operator</em>. This function is
intended to work on <cite>IBMProcessManager</cite> agents, which do not
benefit from groupings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sourcevar</strong> (<em>str</em>) – the name of the variable to collect in the sublevel</p></li>
<li><p><strong>operator</strong> (<em>str</em>) – the name of the operator to apply to the collected values</p></li>
<li><p><strong>machine_name</strong> (<em>str</em>) – the name of the state machine for which the getter is created</p></li>
<li><p><strong>state_name</strong> (<em>str</em>) – the state name</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>callable</em> – A callable class on which can be applied to an
<cite>IBMProcessManager</cite> agent (i.e. with explicit but
ungrouped sublevel agents) which returns the aggregated
value for the specified group.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.getters.serial">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.getters.</span></span><span class="sig-name descname"><span class="pre">serial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/getters.html#serial"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.getters.serial" title="Permalink to this definition">¶</a></dt>
<dd><p>A very simple serial number generator.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="emulsion.tools.getters.create_new_serial">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">emulsion.tools.getters.</span></span><span class="sig-name descname"><span class="pre">create_new_serial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/getters.html#create_new_serial"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.getters.create_new_serial" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.getters.create_new_serial.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/getters.html#create_new_serial.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.getters.create_new_serial.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the serial number generator associated to the specified
variable.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="emulsion.tools.getters.create_successor_getter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">emulsion.tools.getters.</span></span><span class="sig-name descname"><span class="pre">create_successor_getter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">machine_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/getters.html#create_successor_getter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.getters.create_successor_getter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.getters.create_successor_getter.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">machine_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/getters.html#create_successor_getter.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.getters.create_successor_getter.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a callable class to access the successor state for the
specified <em>machine_name</em>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>machine_name</strong> (<em>str</em>) – the name of a state machine for which the function will be built</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>callable</em> – a function that returns the successor state for the
current state of the statevar specified by
<em>state_machine</em>. If no value is set, returns a random
state of this state machine.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="emulsion.tools.getters.create_predecessor_getter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">emulsion.tools.getters.</span></span><span class="sig-name descname"><span class="pre">create_predecessor_getter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">machine_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/getters.html#create_predecessor_getter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.getters.create_predecessor_getter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.getters.create_predecessor_getter.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">machine_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/getters.html#create_predecessor_getter.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.getters.create_predecessor_getter.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a function to access the predecessor state for the specified
<em>machine_name</em>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>machine_name</strong> (<em>str</em>) – the name of a state machine for which the function will be built</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>callable</em> – a callable class that returns the predecessor state for
the current state of the statevar specified by
<em>state_machine</em>. If no value is set, returns a random
state of this state machine.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="emulsion.tools.getters.create_weighted_random">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">emulsion.tools.getters.</span></span><span class="sig-name descname"><span class="pre">create_weighted_random</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">machine_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/getters.html#create_weighted_random"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.getters.create_weighted_random" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.getters.create_weighted_random.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">machine_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/getters.html#create_weighted_random.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.getters.create_weighted_random.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a random choice function which returns a random state from
the given state machine (among non-autoremove states), according
to the weights. Weights are interpreted either directly as
probabilities (if the number of weights is stricly one below the
number of available states, the last state getting the complement
to 1), or as true weights which are then normalized to be used as
probabilities.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>machine_name</strong> (<em>str</em>) – the name of the state machine where the states must be chosen
among the <em>N</em> non-autoremove states.</p></li>
<li><p><strong>weights</strong> (<em>list</em>) – a list of <em>N</em> or <em>N-1</em> model expressions assumed to produce positive numbers</p></li>
<li><p><strong>model</strong> (<a class="reference internal" href="emulsion_for_modellers.html#emulsion.model.emulsion_model.EmulsionModel" title="emulsion.model.emulsion_model.EmulsionModel"><em>EmulsionModel</em></a>) – the model where this function is defined</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>callable</em> – a callable class that returns a random state according to the
values of the weights list, interpreted either as
probabilities (if size <em>N-1</em>) or as weights (if size <em>N</em>)
which are then normalized to provide probabilities</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="emulsion.tools.getters.make_random_prototype_getter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">emulsion.tools.getters.</span></span><span class="sig-name descname"><span class="pre">make_random_prototype_getter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freqs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/getters.html#make_random_prototype_getter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.getters.make_random_prototype_getter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.getters.make_random_prototype_getter.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freqs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/getters.html#make_random_prototype_getter.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.getters.make_random_prototype_getter.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a function to access to random prototypes based on given
frequencies.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>names</strong> (<em>list</em>) – the list of prototypes to sample</p></li>
<li><p><strong>freqs</strong> (<em>list</em>) – list of probabilities for random sampling</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>callable</em> – a callable class that returns a random prototype name sampled
randomly in <em>names</em> based on <em>freqs</em></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="emulsion.tools.getters.PrototypeGenerator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">emulsion.tools.getters.</span></span><span class="sig-name descname"><span class="pre">PrototypeGenerator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freqs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cycle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/getters.html#PrototypeGenerator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.getters.PrototypeGenerator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class designed to give prototypes on demand in a collection.</p>
<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.getters.PrototypeGenerator.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freqs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cycle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/getters.html#PrototypeGenerator.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.getters.PrototypeGenerator.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.getters.PrototypeGenerator.set_simu_id">
<span class="sig-name descname"><span class="pre">set_simu_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/getters.html#PrototypeGenerator.set_simu_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.getters.PrototypeGenerator.set_simu_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="emulsion.tools.getters.make_generator_prototype_getter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">emulsion.tools.getters.</span></span><span class="sig-name descname"><span class="pre">make_generator_prototype_getter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freqs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cycle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/getters.html#make_generator_prototype_getter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.getters.make_generator_prototype_getter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.getters.make_generator_prototype_getter.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freqs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cycle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/getters.html#make_generator_prototype_getter.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.getters.make_generator_prototype_getter.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a function to access to prototypes in order, based on given
<em>names</em>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>names</strong> (<em>list</em>) – the list of prototypes to sample</p></li>
<li><p><strong>freqs</strong> (<em>list</em>) – the list of probabilities associated with each name</p></li>
<li><p><strong>collection_name</strong> (<em>str</em>) – the name of the prototype collection</p></li>
<li><p><strong>method</strong> (<em>str</em>) – the method used to pick concrete prototypes in the collection</p></li>
<li><p><strong>cycle</strong> (<em>bool</em>) – True if the values must cycle when end of list is reached,
False otherwise</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>callable</em> – a callable class that returns a prototype name when called</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="emulsion.tools.getters.make_information_getter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">emulsion.tools.getters.</span></span><span class="sig-name descname"><span class="pre">make_information_getter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value_vame</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/getters.html#make_information_getter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.getters.make_information_getter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Build and return a callable class, which can be called on an agent
to return the value of the specified parameter (or expression) in
the the agent.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value_name</strong> (<code class="docutils literal notranslate"><span class="pre">str</span></code>) – the name of the statevar to get</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>class</em> – a callable which can be called on an agent</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.getters.make_information_getter.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value_vame</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/getters.html#make_information_getter.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.getters.make_information_getter.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="emulsion.tools.getters.create_state_indexer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">emulsion.tools.getters.</span></span><span class="sig-name descname"><span class="pre">create_state_indexer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/getters.html#create_state_indexer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.getters.create_state_indexer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.getters.create_state_indexer.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/getters.html#create_state_indexer.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.getters.create_state_indexer.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a callable class used as a getter for property of the form
<code class="docutils literal notranslate"><span class="pre">index_X</span></code> where <code class="docutils literal notranslate"><span class="pre">X</span></code> is a state of a state machine.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>state_name</strong> (<em>str</em>) – the name of state</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>callable</em> – A callable class which can be applied to any agent
which returns the index of the specified state.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="emulsion.tools.getters.create_my_state_indexer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">emulsion.tools.getters.</span></span><span class="sig-name descname"><span class="pre">create_my_state_indexer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state_machine_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/getters.html#create_my_state_indexer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.getters.create_my_state_indexer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.getters.create_my_state_indexer.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state_machine_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/getters.html#create_my_state_indexer.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.getters.create_my_state_indexer.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a callable class used as a getter for property of the form
<code class="docutils literal notranslate"><span class="pre">index_my_X</span></code> where <code class="docutils literal notranslate"><span class="pre">X</span></code> is a state machine.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>state_machine_name</strong> (<em>str</em>) – the name of state machine</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>callable</em> – A callable class which can be applied to any agent which returns the index of the current state of the specified state machine if any, 0 otherwise.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="emulsion.tools.getters.create_lazy_ternary">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">emulsion.tools.getters.</span></span><span class="sig-name descname"><span class="pre">create_lazy_ternary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">condition</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expression_if_true</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expression_if_false</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/getters.html#create_lazy_ternary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.getters.create_lazy_ternary" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.getters.create_lazy_ternary.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">condition</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expression_if_true</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expression_if_false</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/getters.html#create_lazy_ternary.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.getters.create_lazy_ternary.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a callable class used to return a value depending on the condition. Evaluations of condition and values are delayed until requested, and non-relevant value is not even calculated.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>condition</strong> (<em>str</em>) – the expression of the condition</p></li>
<li><p><strong>expression_if_true</strong> (<em>str</em>) – the expression of the value to calculate if the condition is true</p></li>
<li><p><strong>expression_if_false</strong> (<em>str</em>) – the expression of the value to calculate if the condition is false</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>callable</em> – A callable class which returns the value of value_value_if_value_if_true if the condition is fulfilled, otherwise the value of value_if_value_if_false.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="emulsion.tools.getters.create_lazy_OR">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">emulsion.tools.getters.</span></span><span class="sig-name descname"><span class="pre">create_lazy_OR</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">conditions</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/getters.html#create_lazy_OR"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.getters.create_lazy_OR" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.getters.create_lazy_OR.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">conditions</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/getters.html#create_lazy_OR.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.getters.create_lazy_OR.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a callable class used to return a boolean OR on the conditions. Evaluation of conditions is delayed until requested, and returns true as soon as one condition is fulfilled.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>conditions</strong> (<em>str</em>) – the list of the conditions to test</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>callable</em> – A callable class which returns the logical true if any condition is fulfilled, false otherwise.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="emulsion.tools.getters.create_lazy_AND">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">emulsion.tools.getters.</span></span><span class="sig-name descname"><span class="pre">create_lazy_AND</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">conditions</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/getters.html#create_lazy_AND"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.getters.create_lazy_AND" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.getters.create_lazy_AND.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">conditions</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/getters.html#create_lazy_AND.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.getters.create_lazy_AND.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a callable class used to return a boolean AND on the conditions. Evaluation of conditions is delayed until requested, and returns false as soon as one condition is not fulfilled.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>conditions</strong> (<em>str</em>) – the list of the conditions to test</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>callable</em> – A callable class which returns the logical false if any condition is false, true otherwise.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-emulsion.tools.graph">
<span id="emulsion-tools-graph-module"></span><h2>emulsion.tools.graph module<a class="headerlink" href="#module-emulsion.tools.graph" title="Permalink to this heading">¶</a></h2>
<p>A Python implementation of the EMuLSion framework (Epidemiologic
MUlti-Level SImulatiONs).</p>
<p>Tools aimed at handling graphs for the state machines</p>
<dl class="py class">
<dt class="sig sig-object py" id="emulsion.tools.graph.EdgeTypes">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">emulsion.tools.graph.</span></span><span class="sig-name descname"><span class="pre">EdgeTypes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qualname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boundary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#emulsion.tools.graph.EdgeTypes" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#emulsion.tools.state.EmulsionEnum" title="emulsion.tools.state.EmulsionEnum"><code class="xref py py-class docutils literal notranslate"><span class="pre">EmulsionEnum</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="emulsion.tools.graph.EdgeTypes.TRANSITION">
<span class="sig-name descname"><span class="pre">TRANSITION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#emulsion.tools.graph.EdgeTypes.TRANSITION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="emulsion.tools.graph.EdgeTypes.PRODUCTION">
<span class="sig-name descname"><span class="pre">PRODUCTION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2</span></em><a class="headerlink" href="#emulsion.tools.graph.EdgeTypes.PRODUCTION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="emulsion.tools.graph.EdgeTypes.linestyle">
<span class="sig-name descname"><span class="pre">linestyle</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'solid'</span></em><a class="headerlink" href="#emulsion.tools.graph.EdgeTypes.linestyle" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="emulsion.tools.graph.MultiDiGraph">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">emulsion.tools.graph.</span></span><span class="sig-name descname"><span class="pre">MultiDiGraph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">attributes</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/graph.html#MultiDiGraph"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.graph.MultiDiGraph" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>An oriented multigraph (two nodes can be linked by several
edges). Replacement for MultiDiGraph in networkx with a
reproducible order in accessing edges and nodes.</p>
<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.graph.MultiDiGraph.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">attributes</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/graph.html#MultiDiGraph.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.graph.MultiDiGraph.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an instance of MultiDiGraph. If keywords arguments
are specified, they are considered attributes of the whole
graph.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.graph.MultiDiGraph.add_node">
<span class="sig-name descname"><span class="pre">add_node</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node_id</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">attributes</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/graph.html#MultiDiGraph.add_node"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.graph.MultiDiGraph.add_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the specified node to the graph. Node attributes can be
specified. If the node is already present, updated the
attributes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.graph.MultiDiGraph.add_edge">
<span class="sig-name descname"><span class="pre">add_edge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">from_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">EdgeTypes.TRANSITION</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">attributes</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/graph.html#MultiDiGraph.add_edge"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.graph.MultiDiGraph.add_edge" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the specified edge to the graph. If nodes are not
already created, they are automatically added. Edge attributes
can be specified. Since this graph allows multiple edges
between pairs of nodes, two calls to this method lead to two
distinct edges (even if the attributes are the same), unless a
key is specified. The key is used to identify edges between a
given pair of nodes. By default, keys are consecutive
integers.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.graph.MultiDiGraph.edges">
<span class="sig-name descname"><span class="pre">edges</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/graph.html#MultiDiGraph.edges"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.graph.MultiDiGraph.edges" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of edge tuples.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.graph.MultiDiGraph.edges_from">
<span class="sig-name descname"><span class="pre">edges_from</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">from_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">EdgeTypes.TRANSITION</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/graph.html#MultiDiGraph.edges_from"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.graph.MultiDiGraph.edges_from" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of tuples (to_id, attributes) corresponding
to all edges going out of the <cite>from_id</cite> node.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-4">
<span id="emulsion-tools-misc-module"></span><h2>emulsion.tools.misc module<a class="headerlink" href="#module-4" title="Permalink to this heading">¶</a></h2>
<span class="target" id="module-emulsion.tools.misc"></span><p>Collection of various useful functions used in EMULSION framework,
especially regarding introspection.</p>
<dl class="py data">
<dt class="sig sig-object py" id="emulsion.tools.misc.AGENTS">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.misc.</span></span><span class="sig-name descname"><span class="pre">AGENTS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#emulsion.tools.misc.AGENTS" title="Permalink to this definition">¶</a></dt>
<dd><p>Constant value for the index where list of agents are stored in
‘populations’ tuples.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="emulsion.tools.misc.POPULATION">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.misc.</span></span><span class="sig-name descname"><span class="pre">POPULATION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#emulsion.tools.misc.POPULATION" title="Permalink to this definition">¶</a></dt>
<dd><p>Constant value for the index where population amounts are stored in
‘populations’ tuples.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.misc.load_class">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.misc.</span></span><span class="sig-name descname"><span class="pre">load_class</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">class_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/misc.html#load_class"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.misc.load_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamically load the class with the specified <em>class_name</em> from the
given <em>module</em>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>module</strong> – a Python module, where the class is expected to be located.</p></li>
<li><p><strong>class_name</strong> (<em>str</em>) – the name of the class to load</p></li>
<li><p><strong>options</strong> – some options</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>tuple</em> – a tuple composed of the class (type) and the options.</p>
</dd>
</dl>
<div class="admonition-todo admonition" id="id3">
<p class="admonition-title">Todo</p>
<ul class="simple">
<li><p>clarify the role of <em>options</em></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.misc.load_module">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.misc.</span></span><span class="sig-name descname"><span class="pre">load_module</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/misc.html#load_module"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.misc.load_module" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamically load the module with the specified <em>module_name</em> and
return it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>module_name</strong> (<em>str</em>) – the name of a valid Python module (accessible in the
<code class="docutils literal notranslate"><span class="pre">PYTHONPATH</span></code> environment variable).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>ref</em> – A reference to the Python module.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.misc.rates_to_probabilities">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.misc.</span></span><span class="sig-name descname"><span class="pre">rates_to_probabilities</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">total_rate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rate_values</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta_t</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/emulsion/tools/misc.html#rates_to_probabilities"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.misc.rates_to_probabilities" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the specified list of <em>rate_values</em>, interpreted as
outgoing rates, into probabilities, according to the specified
time step (<em>delta_t</em>) and normalized by <em>total_rate</em>.</p>
<p>For exit rates <span class="math notranslate nohighlight">\(\rho_i\)</span> (one of the <em>rate_values</em>), the
probability to stay in current state is given by:</p>
<div class="math notranslate nohighlight">
\[p_0 = e^{-\delta t.\sum_i \rho_i}\]</div>
<p>Thus, each rate <span class="math notranslate nohighlight">\(\rho_i\)</span> corresponds to a probability</p>
<div class="math notranslate nohighlight">
\[p_i = \frac{\rho_i}{\sum_i \rho_i} (1 - p_0)\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>total_rate</strong> (<em>float</em>) – the total exit rate, used for normalization purposes. If
<em>rate_values</em> represent all possible exit rates, <em>total_rate</em>
is their sum.</p></li>
<li><p><strong>rate_values</strong> (<em>list</em>) – the list of rates to transform</p></li>
<li><p><strong>delta_t</strong> (<em>float</em>) – the value of the time step (expressed in time units)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>list</em> – the list of probabilities corresponding to the <em>rate_values</em>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.misc.aggregate_probability">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.misc.</span></span><span class="sig-name descname"><span class="pre">aggregate_probability</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">probability</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta_t</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/emulsion/tools/misc.html#aggregate_probability"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.misc.aggregate_probability" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the specified <em>probability</em> value, intended to represent
a probability for events tested each time unit, into the
probability for the specified time step (<em>delta_t</em>).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>probability</strong> (<em>float</em>) – the probability value of an event (during 1 time unit)</p></li>
<li><p><strong>delta_t</strong> (<em>float</em>) – the value of the time step (expressed in time units)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>float</em> – the probability of the event during <em>delta_t</em> time units.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.misc.aggregate_probabilities">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.misc.</span></span><span class="sig-name descname"><span class="pre">aggregate_probabilities</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">probability_values</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta_t</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/emulsion/tools/misc.html#aggregate_probabilities"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.misc.aggregate_probabilities" title="Permalink to this definition">¶</a></dt>
<dd><p>From the specified <em>probability_values</em>, intended to represent
probabilities of events duting one time unit, compute the
probabilities for the specified time step (<em>delta_t</em>).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>probability_values</strong> (<em>list</em>) – a list of probability values for several events (during 1 time unit)</p></li>
<li><p><strong>delta_t</strong> (<em>float</em>) – the value of the time step (expressed in time units)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>list</em> – the probabilities of the same events during <em>delta_t</em> time units.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.misc.probabilities_to_rates">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.misc.</span></span><span class="sig-name descname"><span class="pre">probabilities_to_rates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">probability_values</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/emulsion/tools/misc.html#probabilities_to_rates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.misc.probabilities_to_rates" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform a list of probabilities into a list of rates. The
last value is expected to represent the probability of staying in
the current state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>probability_values</strong> (<em>list</em>) – a list of probabilities, the last one representing the
probability to stay in the current state</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>list</em> – a list of rates corresponding to those probabilities.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.misc.rewrite_keys">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.misc.</span></span><span class="sig-name descname"><span class="pre">rewrite_keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">position</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">change_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/misc.html#rewrite_keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.misc.rewrite_keys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.misc.complement_key">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.misc.</span></span><span class="sig-name descname"><span class="pre">complement_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d_initial_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">l_state_machines</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prototype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/misc.html#complement_key"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.misc.complement_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensure that all values are assigned to build a consistent key based on <em>d_initial_key</em> to identify a compartment (values for the variables corresponding to the expected state machines which operate on the compartment) according to the following rules:</p>
<ol class="arabic simple">
<li><p>if a <em>prototype</em> is given, the state machine values specified in the prototype are applied</p></li>
<li><p>missing value for each state machine in <em>l_state_machines</em> are replaced with the default state if any</p></li>
<li><p>remaining missing values are all non-autoremove states, which leads to building all possible consistent combinations</p></li>
</ol>
<section id="returns">
<h3>Returns:<a class="headerlink" href="#returns" title="Permalink to this heading">¶</a></h3>
<dl class="simple">
<dt>list:</dt><dd><p>list of tuples which correspond to valid keys for this specification</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.misc.count_population">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.misc.</span></span><span class="sig-name descname"><span class="pre">count_population</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">agents_or_pop</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/emulsion/tools/misc.html#count_population"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.misc.count_population" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the amount of atoms represented in <em>agents_or_pop</em>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>agents_or_pop</strong> (<em>tuple</em>) – either (‘population’, qty, esc) or (‘agents’, list of agents, None)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>int or float</em> – the amount corresponding to the population: generally, an int
value, but deterministic models produce float values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.misc.select_random">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.misc.</span></span><span class="sig-name descname"><span class="pre">select_random</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">origin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quantity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">SortedSet</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">SortedSet([])</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span></span></span><a class="reference internal" href="_modules/emulsion/tools/misc.html#select_random"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.misc.select_random" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a random selection of <em>quantity</em> agents from the <em>origin</em>
group, avoiding those explicitly in the <em>exclude</em> set. If the
<em>origin</em> population proves too small, all available agents are
taken, irrespective to the <em>quantity</em>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>origin</strong> (<em>iterable</em>) – the population where agents must be selected</p></li>
<li><p><strong>quantity</strong> (<em>int</em>) – the number of agents to select in the population</p></li>
<li><p><strong>exclude</strong> (<em>set</em>) – agents which are not available for the selection</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>list</em> – a list of randomly selected agents according to the above constraints.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.misc.read_from_file">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.misc.</span></span><span class="sig-name descname"><span class="pre">read_from_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/misc.html#read_from_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.misc.read_from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the specified YAML <em>filename</em> and return the corresponding
Python document.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – the name of the YAML file to load</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>object</em> – a Python object built by parsing of the YAML file, i.e. either
a dict, list, or even str/int/etc… (Most YAML document will
produce dictionaries.)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.misc.retrieve_value">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.misc.</span></span><span class="sig-name descname"><span class="pre">retrieve_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value_or_function</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">agent</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/misc.html#retrieve_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.misc.retrieve_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a value either directly given by parameter
<em>value_or_function</em> if it is a true value, or computed from this
parameter seen as a function, with the specified <em>agent</em> as argument.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value_or_function</strong> – either a callable (function that applies to an agent to
retrieve an individual value), or the value itself</p></li>
<li><p><strong>agent</strong> – the agent to use as parameter of the callable if necessary</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>value</em> – the expected value (agent-based or not).</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.misc.moving_average">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.misc.</span></span><span class="sig-name descname"><span class="pre">moving_average</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'same'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/misc.html#moving_average"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.misc.moving_average" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute a moving average of the specified <em>values</em> with respect to
the <em>window_size</em> on which the average is calculated. The return
moving average has the same size as the original values. To avoid
boundary effects, use <code class="docutils literal notranslate"><span class="pre">mode='valid'</span></code>, which produce a result of
size <code class="docutils literal notranslate"><span class="pre">len(values)</span> <span class="pre">-</span> <span class="pre">window_size</span> <span class="pre">+</span> <span class="pre">1</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>values</strong> (<em>array-like</em>) – contains the values for moving average computation</p></li>
<li><p><strong>window_size</strong> (<em>int</em>) – width of the moving average window</p></li>
<li><p><strong>mode</strong> (<em>str</em>) – a parameter for <cite>numpy.convolve</cite></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>nd_array</em> – a numpy <code class="docutils literal notranslate"><span class="pre">nd_array</span></code> containing the values of the moving average.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.misc.add_new_property">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.misc.</span></span><span class="sig-name descname"><span class="pre">add_new_property</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">agent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">property_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">getter_function</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/misc.html#add_new_property"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.misc.add_new_property" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a new property to an agent.</p>
<p>Actually, the property is added to the class of the agent, as
Python properties are descriptors. Yet, the dynamic attribution of
properties must me done through instances rather than classes,
since agents must add the name of the property to their
<code class="docutils literal notranslate"><span class="pre">_mbr_cache</span></code> attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>agent</strong> (<a class="reference internal" href="emulsion_for_modellers.html#id2" title="emulsion.agent.core.abstract_agent.AbstractAgent"><em>AbstractAgent</em></a>) – the agent to which the property must be added</p></li>
<li><p><strong>property_name</strong> (<em>str</em>) – the name of the property</p></li>
<li><p><strong>getter_function</strong> (<em>callable</em>) – the callable class upon which the property is built</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.misc.add_all_test_properties">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.misc.</span></span><span class="sig-name descname"><span class="pre">add_all_test_properties</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">agent</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/misc.html#add_all_test_properties"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.misc.add_all_test_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Endow the agent with individuals properties: <code class="docutils literal notranslate"><span class="pre">duration_in_&lt;a</span> <span class="pre">state</span>
<span class="pre">machine&gt;</span></code> for all state machines, and <code class="docutils literal notranslate"><span class="pre">is_X</span></code> for all states.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.misc.add_all_relative_population_getters">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.misc.</span></span><span class="sig-name descname"><span class="pre">add_all_relative_population_getters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">agent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_key_variables</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/misc.html#add_all_relative_population_getters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.misc.add_all_relative_population_getters" title="Permalink to this definition">¶</a></dt>
<dd><p>Endow the agent with individual properties of the form <code class="docutils literal notranslate"><span class="pre">total_X_Y</span></code>
where <code class="docutils literal notranslate"><span class="pre">X</span></code> and <code class="docutils literal notranslate"><span class="pre">Y</span></code> are either states of two different states
machines used in a grouping, or keywords built upon a state
machine name <code class="docutils literal notranslate"><span class="pre">M</span></code> of the form <code class="docutils literal notranslate"><span class="pre">my_M</span></code> or <code class="docutils literal notranslate"><span class="pre">other_M</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>agent</strong> (<a class="reference internal" href="emulsion.agent.core.html#emulsion.agent.core.emulsion_agent.EmulsionAgent" title="emulsion.agent.core.emulsion_agent.EmulsionAgent"><em>EmulsionAgent</em></a><em> (</em><a class="reference internal" href="emulsion.agent.html#emulsion.agent.views.AdaptiveView" title="emulsion.agent.views.AdaptiveView"><em>AdaptiveView</em></a><em> or </em><a class="reference internal" href="emulsion.agent.html#emulsion.agent.atoms.AtomAgent" title="emulsion.agent.atoms.AtomAgent"><em>AtomAgent</em></a><em>)</em>) – the agent which will be endowed with the new properties</p></li>
<li><p><strong>key_variables</strong> (<em>tuple</em>) – string of tuple containing the names of the state machines</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.misc.read_csv_prototypes">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.misc.</span></span><span class="sig-name descname"><span class="pre">read_csv_prototypes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">condition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight_column</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/misc.html#read_csv_prototypes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.misc.read_csv_prototypes" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the definitions of prototypes contained in file <em>filename</em> and
return a dictionary representing the collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>collection_name</strong> (<em>str</em>) – the name of the prototypes collection</p></li>
<li><p><strong>filename</strong> (<em>Path</em>) – the path to the CSV file to read</p></li>
<li><p><strong>method</strong> (<em>str</em>) – method used to select prototypes in the collection</p></li>
<li><p><strong>condition</strong> (<em>callable</em>) – a callable class which can be called on a CSV line, returning
1 if the line fulfils the condition, 0 otherwise</p></li>
<li><p><strong>weight_column</strong> (<em>str</em>) – the name of the column to use to weight prototypes in random
sampling. If None, all prototypes are given the same weight</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>list</em> – A prototype collection, as a list of tuples composed of the
prototype frequency, the prototype name, and the dictionary
describing the prototype itself</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The CSV file is expected to contain a description of the
prototypes. Prototypes define how to set variables in agents that
belong to the same organization level. The CSV header is expected
to contain the names of the variables. A column named
<em>prototype_name</em> can be used to associate each combination of
variable values to a specific identifier (built from the
collection name followed by the prototype name, e.g. collection
<cite>default_herd</cite> and <em>prototype_name</em> <cite>small</cite> gives
<cite>default_herd-small</cite>). If not specified, the prototype names will
be generated automatically based on the filename and line
numbers. The resulting prototypes are named after this initial
prototype name (automatically generated or specified) and the
collection name (<cite>collection_name-prototype_name</cite>).  A <em>filter</em>
can be used in the prototype section to select only lines that
fulfil a given condition (provided as a function here).</p>
</dd></dl>

</section>
<section id="module-emulsion.tools.parallel">
<span id="emulsion-tools-parallel-module"></span><h2>emulsion.tools.parallel module<a class="headerlink" href="#module-emulsion.tools.parallel" title="Permalink to this heading">¶</a></h2>
<p>A Python implementation of the EMuLSion framework (Epidemiologic
MUlti-Level SImulatiONs).</p>
<p>Tools for parallel computing.</p>
<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.parallel.job_dist">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.parallel.</span></span><span class="sig-name descname"><span class="pre">job_dist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">total_task</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">workers</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/parallel.html#job_dist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.parallel.job_dist" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a distribution of each worker need to do.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.parallel.job">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.parallel.</span></span><span class="sig-name descname"><span class="pre">job</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target_simulation_class</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">proc</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">others</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/parallel.html#job"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.parallel.job" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple job for a simple processes</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.parallel.parallel_multi">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.parallel.</span></span><span class="sig-name descname"><span class="pre">parallel_multi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target_simulation_class=&lt;class</span> <span class="pre">'emulsion.tools.simulation.MultiSimulation'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nb_simu=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nb_proc=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**others</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/parallel.html#parallel_multi"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.parallel.parallel_multi" title="Permalink to this definition">¶</a></dt>
<dd><p>Parallel loop for distributing tasks in different processes</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.parallel.parallel_sensi">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.parallel.</span></span><span class="sig-name descname"><span class="pre">parallel_sensi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target_simulation_class=&lt;class</span> <span class="pre">'emulsion.tools.simulation.SensitivitySimulation'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nb_proc=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**others</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/parallel.html#parallel_sensi"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.parallel.parallel_sensi" title="Permalink to this definition">¶</a></dt>
<dd><p>Parallel loop for distributing sensitivity tasks in different processes</p>
</dd></dl>

</section>
<section id="module-emulsion.tools.plot">
<span id="emulsion-tools-plot-module"></span><h2>emulsion.tools.plot module<a class="headerlink" href="#module-emulsion.tools.plot" title="Permalink to this heading">¶</a></h2>
<p>A Python implementation of the EMuLSion framework (Epidemiologic
MUlti-Level SImulatiONs).</p>
<p>Plotting tools… to be improved!</p>
<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.plot.q10">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.plot.</span></span><span class="sig-name descname"><span class="pre">q10</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/plot.html#q10"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.plot.q10" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.plot.q90">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.plot.</span></span><span class="sig-name descname"><span class="pre">q90</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/plot.html#q90"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.plot.q90" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.plot.perc">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.plot.</span></span><span class="sig-name descname"><span class="pre">perc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/plot.html#perc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.plot.perc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.plot.build_state_plot">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.plot.</span></span><span class="sig-name descname"><span class="pre">build_state_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">counts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">machine</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'quantity'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'state'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ylab</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Number</span> <span class="pre">of</span> <span class="pre">individuals'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">style</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aggregate_plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detail_plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/plot.html#build_state_plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.plot.build_state_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a bokeh figure based on the representation of the states in
the <em>counts</em> dataframe, with the associated colors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>counts</strong> – a Pandas dataframe containing the values to plot</p></li>
<li><p><strong>cols</strong> (<em>dict</em>) – dictionary which maps state/variable names to colors</p></li>
<li><p><strong>machine</strong> – the state machine to which the states are related</p></li>
<li><p><strong>model</strong> – the Emulsion model related to this plot</p></li>
<li><p><strong>y</strong> (<em>str</em>) – the name of the field containing y values in the dataframe</p></li>
<li><p><strong>group</strong> (<em>str</em>) – either ‘state’ (default) or ‘variables’, name of
the field containing each legend items.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A bokeh gridplot (reduced to one figure a the herd level, one
figure per herd at metapopulation level).</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.plot.build_machine_plot">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.plot.</span></span><span class="sig-name descname"><span class="pre">build_machine_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">machine_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/plot.html#build_machine_plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.plot.build_machine_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a bokeh figure based on the representation of the state
machine, with the associated colors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>machine</strong> – the state machine to which the states are related</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A bokeh gridplot.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.plot.plot_outputs">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.plot.</span></span><span class="sig-name descname"><span class="pre">plot_outputs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/plot.html#plot_outputs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.plot.plot_outputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Read outputs from previous runs and plot the corresponding
figures. In the <em>params</em> dictionary, <cite>output_dir</cite> is expected to
contain a <cite>counts.csv</cite> file; <cite>figure_dir</cite> is where the plot is
saved.</p>
</dd></dl>

</section>
<section id="module-5">
<span id="emulsion-tools-preprocessor-module"></span><h2>emulsion.tools.preprocessor module<a class="headerlink" href="#module-5" title="Permalink to this heading">¶</a></h2>
<span class="target" id="module-emulsion.tools.preprocessor"></span><p>Tools for providing generic preprocessor classes.</p>
<dl class="py class">
<dt class="sig sig-object py" id="emulsion.tools.preprocessor.EmulsionPreprocessor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">emulsion.tools.preprocessor.</span></span><span class="sig-name descname"><span class="pre">EmulsionPreprocessor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_based_parameters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">others</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/preprocessor.html#EmulsionPreprocessor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.preprocessor.EmulsionPreprocessor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This is the base class for all preprocessing operations.</p>
<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.preprocessor.EmulsionPreprocessor.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_based_parameters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">others</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/preprocessor.html#EmulsionPreprocessor.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.preprocessor.EmulsionPreprocessor.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the preprocessor.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.preprocessor.EmulsionPreprocessor.init_preprocessor">
<span class="sig-name descname"><span class="pre">init_preprocessor</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/preprocessor.html#EmulsionPreprocessor.init_preprocessor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.preprocessor.EmulsionPreprocessor.init_preprocessor" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic verifications and initializations</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.preprocessor.EmulsionPreprocessor.run_preprocessor">
<span class="sig-name descname"><span class="pre">run_preprocessor</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/preprocessor.html#EmulsionPreprocessor.run_preprocessor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.preprocessor.EmulsionPreprocessor.run_preprocessor" title="Permalink to this definition">¶</a></dt>
<dd><p>Do the actual preprocessing operations.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-6">
<span id="emulsion-tools-simulation-module"></span><h2>emulsion.tools.simulation module<a class="headerlink" href="#module-6" title="Permalink to this heading">¶</a></h2>
<span class="target" id="module-emulsion.tools.simulation"></span><p>Tools for providing generic simulation classes.</p>
<dl class="py class">
<dt class="sig sig-object py" id="emulsion.tools.simulation.OutputManager">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">emulsion.tools.simulation.</span></span><span class="sig-name descname"><span class="pre">OutputManager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'counts.csv'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'log.txt'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/simulation.html#OutputManager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.simulation.OutputManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Manager to handle different outputs (csv, database,… etc)</p>
<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.simulation.OutputManager.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'counts.csv'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'log.txt'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/simulation.html#OutputManager.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.simulation.OutputManager.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the output manager, specifying the model and the
directory where outputs will be stored.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.simulation.OutputManager.update_output_type">
<span class="sig-name descname"><span class="pre">update_output_type</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/simulation.html#OutputManager.update_output_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.simulation.OutputManager.update_output_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Update output type if specified in model</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.simulation.OutputManager.update_output_information">
<span class="sig-name descname"><span class="pre">update_output_information</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/simulation.html#OutputManager.update_output_information"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.simulation.OutputManager.update_output_information" title="Permalink to this definition">¶</a></dt>
<dd><p>Update csv file path or database connection engine</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.simulation.OutputManager.update_outputs">
<span class="sig-name descname"><span class="pre">update_outputs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/simulation.html#OutputManager.update_outputs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.simulation.OutputManager.update_outputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Update outputs: writing in csv file or in database</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="emulsion.tools.simulation.AbstractSimulation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">emulsion.tools.simulation.</span></span><span class="sig-name descname"><span class="pre">AbstractSimulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stock_agent</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'outputs/'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_agent_class</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_results</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load_from_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_to_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shared_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/simulation.html#AbstractSimulation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.simulation.AbstractSimulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Abstract class from which any simulation class inherits.</p>
<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.simulation.AbstractSimulation.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stock_agent</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'outputs/'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_agent_class</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_results</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load_from_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_to_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shared_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/simulation.html#AbstractSimulation.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.simulation.AbstractSimulation.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the simulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start_id</strong> – ID of the (first) simulation</p></li>
<li><p><strong>model</strong> – instance of the model to run</p></li>
<li><p><strong>model_path</strong> – path to the filename holding the description of the
model, used if <em>model</em> is None</p></li>
<li><p><strong>stock_agent</strong> – TODO</p></li>
<li><p><strong>output_dir</strong> – name of the directory for simulation outputs</p></li>
<li><p><strong>target_agent_class</strong> – agent class representing the top level in the
simulation</p></li>
<li><p><strong>save_results</strong> – True if simulation outputs have to be saved,
False otherwise. TODO: should be removed, and replaced
by a set of OutputManagers dedicated to the specific
expected outputs.</p></li>
<li><p><strong>load_from_file</strong> – a filename from which the initial state of
the simulation (agents corresponding to levels with
their state) is read (instead of running the
<cite>initialize_level</cite> method)</p></li>
<li><p><strong>save_to_file</strong> – a filename in which the final state of the
simulation (agents corresponding to levels with their
state) is written (after running the <cite>finalize_level</cite>
method)</p></li>
<li><p><strong>shared_data</strong> – dict containing pre-loaded input data to be shared
between several simulations (without reloading them)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.simulation.AbstractSimulation.evolve">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">evolve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">steps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/simulation.html#AbstractSimulation.evolve"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.simulation.AbstractSimulation.evolve" title="Permalink to this definition">¶</a></dt>
<dd><p>Operations to perform at each time step. Should be defined in
subclasses.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>steps</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.simulation.AbstractSimulation.run">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/simulation.html#AbstractSimulation.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.simulation.AbstractSimulation.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Entry point to simulation execution. Should be defined in
subclasses.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.simulation.AbstractSimulation.update_csv_counts">
<span class="sig-name descname"><span class="pre">update_csv_counts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dparams</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/simulation.html#AbstractSimulation.update_csv_counts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.simulation.AbstractSimulation.update_csv_counts" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the CSV recording of populations in each state.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.simulation.AbstractSimulation.init_input_data">
<span class="sig-name descname"><span class="pre">init_input_data</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/simulation.html#AbstractSimulation.init_input_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.simulation.AbstractSimulation.init_input_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize input data. This is composed of two separate operations:
reading CSV files representing data-based parameters and
performing preprocessing operations, which can occur either
before of after loading data-based parameters.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="emulsion.tools.simulation.Simulation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">emulsion.tools.simulation.</span></span><span class="sig-name descname"><span class="pre">Simulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">steps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simu_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">silent</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quiet</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nocount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">others</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/simulation.html#Simulation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.simulation.Simulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#emulsion.tools.simulation.AbstractSimulation" title="emulsion.tools.simulation.AbstractSimulation"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractSimulation</span></code></a></p>
<p>Simulation class is aimed at running one repetition of a given
model (for several repetitions, use <cite>MultiSimulation</cite>).</p>
<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.simulation.Simulation.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">steps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simu_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">silent</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quiet</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nocount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">others</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/simulation.html#Simulation.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.simulation.Simulation.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an instance of simulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>steps</strong> – number of time steps to run</p></li>
<li><p><strong>simu_id</strong> – ID of the simulation</p></li>
<li><p><strong>silent</strong> – if False, show a progress bar during simulation execution</p></li>
<li><p><strong>quiet</strong> – if True, show no progressbar at all</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a href="#id4"><span class="problematic" id="id5">`emulsion.tools.simulation.AbstractSimulation`_</span></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.simulation.Simulation.log_path">
<span class="sig-name descname"><span class="pre">log_path</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/simulation.html#Simulation.log_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.simulation.Simulation.log_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the log path used by current simulation</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.simulation.Simulation.init_agent">
<span class="sig-name descname"><span class="pre">init_agent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">others</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/simulation.html#Simulation.init_agent"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.simulation.Simulation.init_agent" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an agent from the target class.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.simulation.Simulation.evolve">
<span class="sig-name descname"><span class="pre">evolve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">steps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/simulation.html#Simulation.evolve"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.simulation.Simulation.evolve" title="Permalink to this definition">¶</a></dt>
<dd><p>Make the target agent evolve.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>steps</strong> – the number of time steps to run</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.simulation.Simulation.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dparams</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/simulation.html#Simulation.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.simulation.Simulation.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Make the simulation progress.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="emulsion.tools.simulation.Simulation.counts">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">counts</span></span><a class="headerlink" href="#emulsion.tools.simulation.Simulation.counts" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a pandas DataFrame contains counts of each process if existing.
TODO: column steps need to be with one of process
and NO column steps for inter herd</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="emulsion.tools.simulation.MultiSimulation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">emulsion.tools.simulation.</span></span><span class="sig-name descname"><span class="pre">MultiSimulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">multi_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nb_simu</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_seed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">silent</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quiet</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nocount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dparams</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">others</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/simulation.html#MultiSimulation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.simulation.MultiSimulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#emulsion.tools.simulation.AbstractSimulation" title="emulsion.tools.simulation.AbstractSimulation"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractSimulation</span></code></a></p>
<p>MultiSimulation can handle multiple repetitions of a given model.
For sensibility study (same model with different values of variables),
please check out SensitivitySimulation.</p>
<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.simulation.MultiSimulation.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">multi_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nb_simu</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_seed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">silent</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quiet</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nocount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dparams</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">others</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/simulation.html#MultiSimulation.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.simulation.MultiSimulation.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize a simulation with multiple repetitions of the same
model.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.simulation.MultiSimulation.evolve">
<span class="sig-name descname"><span class="pre">evolve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">steps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/simulation.html#MultiSimulation.evolve"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.simulation.MultiSimulation.evolve" title="Permalink to this definition">¶</a></dt>
<dd><p>Operations to perform at each time step. Should be defined in
subclasses.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>steps</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.simulation.MultiSimulation.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/simulation.html#MultiSimulation.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.simulation.MultiSimulation.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run all repetitions one by one.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="emulsion.tools.simulation.MultiSimulation.counts">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">counts</span></span><a class="headerlink" href="#emulsion.tools.simulation.MultiSimulation.counts" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.simulation.MultiSimulation.write_dot">
<span class="sig-name descname"><span class="pre">write_dot</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/simulation.html#MultiSimulation.write_dot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.simulation.MultiSimulation.write_dot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="emulsion.tools.simulation.SensitivitySimulation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">emulsion.tools.simulation.</span></span><span class="sig-name descname"><span class="pre">SensitivitySimulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenario_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nb_multi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">others</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/simulation.html#SensitivitySimulation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.simulation.SensitivitySimulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#emulsion.tools.simulation.AbstractSimulation" title="emulsion.tools.simulation.AbstractSimulation"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractSimulation</span></code></a></p>
<p>SensitivitySimulation can handle sensibility study with a given
pandas DataFrame of parameters or a path linked with file which contains
scenarios of parameters. Then it will be transformed to a dictionary of
scenario in the <code class="docutils literal notranslate"><span class="pre">`d_scenario`</span></code> attribute.</p>
<dl class="simple">
<dt>For instance, d_scenario could be the form (QFever model example) :</dt><dd><dl class="simple">
<dt>{0: {‘m’: 0.7, ‘q’: 0.02 …},</dt><dd><p>1: {‘m’: 0.5, ‘q’: 0.02 …},
2: …,
… }</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.simulation.SensitivitySimulation.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenario_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nb_multi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">others</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/simulation.html#SensitivitySimulation.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.simulation.SensitivitySimulation.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the simulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start_id</strong> – ID of the (first) simulation</p></li>
<li><p><strong>model</strong> – instance of the model to run</p></li>
<li><p><strong>model_path</strong> – path to the filename holding the description of the
model, used if <em>model</em> is None</p></li>
<li><p><strong>stock_agent</strong> – TODO</p></li>
<li><p><strong>output_dir</strong> – name of the directory for simulation outputs</p></li>
<li><p><strong>target_agent_class</strong> – agent class representing the top level in the
simulation</p></li>
<li><p><strong>save_results</strong> – True if simulation outputs have to be saved,
False otherwise. TODO: should be removed, and replaced
by a set of OutputManagers dedicated to the specific
expected outputs.</p></li>
<li><p><strong>load_from_file</strong> – a filename from which the initial state of
the simulation (agents corresponding to levels with
their state) is read (instead of running the
<cite>initialize_level</cite> method)</p></li>
<li><p><strong>save_to_file</strong> – a filename in which the final state of the
simulation (agents corresponding to levels with their
state) is written (after running the <cite>finalize_level</cite>
method)</p></li>
<li><p><strong>shared_data</strong> – dict containing pre-loaded input data to be shared
between several simulations (without reloading them)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.simulation.SensitivitySimulation.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/simulation.html#SensitivitySimulation.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.simulation.SensitivitySimulation.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Make the simulation advance.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="emulsion.tools.simulation.SensitivitySimulation.counts">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">counts</span></span><a class="headerlink" href="#emulsion.tools.simulation.SensitivitySimulation.counts" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.simulation.SensitivitySimulation.write_dot">
<span class="sig-name descname"><span class="pre">write_dot</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/simulation.html#SensitivitySimulation.write_dot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.simulation.SensitivitySimulation.write_dot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-7">
<span id="emulsion-tools-state-module"></span><h2>emulsion.tools.state module<a class="headerlink" href="#module-7" title="Permalink to this heading">¶</a></h2>
<span class="target" id="module-emulsion.tools.state"></span><p>This module defines:</p>
<ul class="simple">
<li><p>a class <code class="docutils literal notranslate"><span class="pre">StateVarDict</span></code> which is a special auto-referential
dictionary to handle state variables</p></li>
<li><p>a class <code class="docutils literal notranslate"><span class="pre">EmulsionEnum</span></code> which is a special kind of enumeration
intended to handle states from state machines</p></li>
</ul>
<dl class="py class">
<dt class="sig sig-object py" id="emulsion.tools.state.StateVarDict">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">emulsion.tools.state.</span></span><span class="sig-name descname"><span class="pre">StateVarDict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/state.html#StateVarDict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.state.StateVarDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
<p>A special dictionary aimed at handling the state variables of
agents in EMULSION models. In addition to the classical dict
key-based access, it provides an attribute-like access syntax.</p>
<p>This class is used in EMULSION to store agent properties. Such
properties include those defined automatically and used by the
EMULSION engine, such as the values of the states for each state
machine, the current time step, or “hidden” values such as the
time spent in the current state for each state machine. They are
also used to include user-defined attributes (e.g. age,
weight…).</p>
<p>When searching for a model <code class="docutils literal notranslate"><span class="pre">statevar</span></code>, the engine tries first to
find a classical instance variable (which can be mimicked by a
Python <code class="docutils literal notranslate"><span class="pre">&#64;property</span></code>-decored function), then looks inside the
agent’s <code class="docutils literal notranslate"><span class="pre">statevar</span></code> attribute; finally, the search continues in
the agent’s host (if any).</p>
<div class="admonition-example admonition">
<p class="admonition-title">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="n">StateVarDict</span><span class="p">(</span><span class="n">age</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">sick</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">s</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">s</span><span class="o">.</span><span class="n">sick</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">s</span><span class="o">.</span><span class="n">new_property</span> <span class="o">=</span> <span class="s1">&#39;Wow !&#39;</span>
</pre></div>
</div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="emulsion.tools.state.StateVarDict.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/state.html#StateVarDict.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.state.StateVarDict.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="emulsion.tools.state.EmulsionEnum">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">emulsion.tools.state.</span></span><span class="sig-name descname"><span class="pre">EmulsionEnum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qualname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boundary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/state.html#EmulsionEnum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.state.EmulsionEnum" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></p>
<p>This class represents enumerations for states of state machines in
EMULSION. They are endowed with some special features:</p>
<ol class="arabic simple">
<li><p>They provide total ordering between items (based on <code class="docutils literal notranslate"><span class="pre">__lt__</span></code>
and <code class="docutils literal notranslate"><span class="pre">__eq__</span></code> methods).</p></li>
<li><p>A comparison with <code class="docutils literal notranslate"><span class="pre">None</span></code> is provided (any state is always
greater than <code class="docutils literal notranslate"><span class="pre">None</span></code>).</p></li>
<li><p>Underlying values can be used to get/set states</p></li>
</ol>
</dd></dl>

</section>
<section id="module-emulsion.tools.timing">
<span id="emulsion-tools-timing-module"></span><h2>emulsion.tools.timing module<a class="headerlink" href="#module-emulsion.tools.timing" title="Permalink to this heading">¶</a></h2>
<p>A Python implementation of the EMuLSion framework (Epidemiologic
MUlti-Level SImulatiONs).</p>
<p>Tools for performance assessment.</p>
<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.timing.timethis">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.timing.</span></span><span class="sig-name descname"><span class="pre">timethis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">times</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/timing.html#timethis"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.timing.timethis" title="Permalink to this definition">¶</a></dt>
<dd><p>A decorator function for printing execution time.</p>
</dd></dl>

</section>
<section id="module-emulsion.tools.view">
<span id="emulsion-tools-view-module"></span><h2>emulsion.tools.view module<a class="headerlink" href="#module-emulsion.tools.view" title="Permalink to this heading">¶</a></h2>
<p>A Python implementation of the EMuLSion framework (Epidemiologic
MUlti-Level SImulatiONs).</p>
<p>Tools for data / map visualization.</p>
<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.view.show_img">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.view.</span></span><span class="sig-name descname"><span class="pre">show_img</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'hot'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colbar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/view.html#show_img"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.view.show_img" title="Permalink to this definition">¶</a></dt>
<dd><p>Display the specified value as an image. A special color map
name can be specified, as well as the presence of a colorbar and
additional keyword arguments passed to <code class="docutils literal notranslate"><span class="pre">imshow</span></code>. If a filename is
provided in the <code class="docutils literal notranslate"><span class="pre">save</span></code> parameter, the image is stored in that
file.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.view.show_contour">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.view.</span></span><span class="sig-name descname"><span class="pre">show_contour</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'hot'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colbar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/view.html#show_contour"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.view.show_contour" title="Permalink to this definition">¶</a></dt>
<dd><p>Display the specified value as a contour map with values. A
special color map name can be specified, as well as the presence
of a colorbar and additional keyword arguments passed to
<code class="docutils literal notranslate"><span class="pre">contourf</span></code>. If a filename is provided in the <code class="docutils literal notranslate"><span class="pre">save</span></code> parameter, the
image is stored in that file.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.view.show_histo">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.view.</span></span><span class="sig-name descname"><span class="pre">show_histo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xlabel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">facecol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'green'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/view.html#show_histo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.view.show_histo" title="Permalink to this definition">¶</a></dt>
<dd><p>Display the distribution of the specified <code class="docutils literal notranslate"><span class="pre">value</span></code> array using
<code class="docutils literal notranslate"><span class="pre">xlabel</span></code> for the legend. A specific face color can be used. If a
filename is provided in the <code class="docutils literal notranslate"><span class="pre">save</span></code> parameter, the image is
stored in that file.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="emulsion.tools.view.build_animation">
<span class="sig-prename descclassname"><span class="pre">emulsion.tools.view.</span></span><span class="sig-name descname"><span class="pre">build_animation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'coolwarm'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">framerate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolution</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'imagemagick'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/emulsion/tools/view.html#build_animation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#emulsion.tools.view.build_animation" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an animation based on the <code class="docutils literal notranslate"><span class="pre">values</span></code> list, with the
specified title. A special color map name can be specified, as
well as the presence of a colorbar and additional keyword
arguments passed to <code class="docutils literal notranslate"><span class="pre">imshow</span></code>. If a specified unit is given, each
frame is marked with its number and the corresponding unit. If a
filename is provided in the <code class="docutils literal notranslate"><span class="pre">save</span></code> parameter, the animation is
stored in that file.</p>
</dd></dl>

</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">EMULSION</a></h1>



<p class="blurb">Epidemiological Multi-Level Simulation Framework</p>






<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="pages/Information.html">1. Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="pages/Install.html">2. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="pages/Getting_started.html">3. Getting started with EMULSION</a></li>
<li class="toctree-l1"><a class="reference internal" href="pages/Modelling_principles.html">4. Modelling principles</a></li>
<li class="toctree-l1"><a class="reference internal" href="pages/Modelling_language_basics.html">5. Modelling language (basics)</a></li>
<li class="toctree-l1"><a class="reference internal" href="pages/Modelling_language_advanced.html">6. Modelling language (advanced)</a></li>
<li class="toctree-l1"><a class="reference internal" href="pages/Feature_examples.html">7. Feature examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="pages/Release_notes.html">8. Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="pages/License.html">9. License</a></li>
<li class="toctree-l1"><a class="reference internal" href="emulsion_for_modellers.html">10. High-level functions for model designers</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="emulsion.html">11. emulsion package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="emulsion.html#subpackages">11.1. Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="emulsion.agent.html">emulsion.agent package</a></li>
<li class="toctree-l3"><a class="reference internal" href="emulsion.model.html">emulsion.model package</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">emulsion.tools package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="emulsion.html#submodules">11.2. Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="emulsion.html#module-emulsion.init_emulsion">11.3. emulsion.init_emulsion module</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="emulsion.html"><span class="section-number">11. </span>emulsion package</a><ul>
      <li>Previous: <a href="emulsion.model.html" title="previous chapter">emulsion.model package</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, INRAE and Univ. Lille.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.3.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/emulsion.tools.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>